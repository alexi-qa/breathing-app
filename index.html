<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0f172a">
    <meta name="description" content="ZenBreath - Breathing exercises for ADHD and anxiety relief">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ZenBreath">
    <title>ZenBreath</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icon-192.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <div class="page active" id="breathePage">
            <header><h1>ZenBreath</h1></header>
            <div class="visual-guide">
                <div class="sphere-container">
                    <div class="aura-ring" id="ring1"></div>
                    <div class="aura-ring" id="ring2" style="transform: scale(1.2); opacity: 0.5;"></div>
                    <div class="main-sphere" id="sphere"></div>
                </div>
            </div>
            <div class="status-panel">
                <div class="phase-text" id="phaseText">Ready</div>
                <div class="timer-text" id="timerText">Tap start to begin</div>
            </div>
            <div class="main-actions">
                <button class="btn btn-primary" id="startBtn">START</button>
                <button class="btn" id="stopBtn">STOP</button>
            </div>
            <div class="card">
                <div class="section-title">Breathing Pattern</div>
                <div class="grid-3">
                    <div class="chip active" onclick="setPreset('box', this)">Box</div>
                    <div class="chip" onclick="setPreset('relax', this)">Relax</div>
                    <div class="chip" onclick="setPreset('focus', this)">Focus</div>
                </div>
                <div class="grid-4">
                    <div class="slider-row"><div class="label-row">In</div><input type="number" class="num-input" id="in" value="4"></div>
                    <div class="slider-row"><div class="label-row">H1</div><input type="number" class="num-input" id="h1" value="4"></div>
                    <div class="slider-row"><div class="label-row">Out</div><input type="number" class="num-input" id="out" value="4"></div>
                    <div class="slider-row"><div class="label-row">H2</div><input type="number" class="num-input" id="h2" value="4"></div>
                </div>
            </div>
            <div class="card">
                <div class="section-title">Sound Engine</div>
                <div class="grid-3">
                    <div class="chip active" onclick="setMode('pink', this)">Pink</div>
                    <div class="chip" onclick="setMode('brown', this)">Brown</div>
                    <div class="chip" onclick="setMode('white', this)">White</div>
                    <div class="chip" onclick="setMode('clicks', this)">Clicks</div>
                    <div class="chip" onclick="setMode('solfeggio', this)">528Hz</div>
                    <div class="chip" onclick="setMode('ocean', this)">Ocean</div>
                </div>
                <div class="slider-row" id="softnessRow">
                    <div class="label-row"><span>Softness</span><span id="softVal">50%</span></div>
                    <input type="range" id="softness" min="0" max="100" value="50">
                </div>
                <div class="slider-row hidden" id="clickSpeedRow">
                    <div class="label-row"><span>Click Speed</span><span id="speedVal">1.0x</span></div>
                    <input type="range" id="clickSpeed" min="5" max="100" value="10" step="5">
                </div>
                <div class="slider-row">
                    <div class="label-row"><span>Volume</span><span id="volVal">30%</span></div>
                    <input type="range" id="volume" min="0" max="100" value="30">
                </div>
            </div>
            <div class="card">
                <div class="toggle-group">
                    <span>8D Spatial Audio</span>
                    <label class="switch">
                    <input type="checkbox" id="spatialToggle">
                    <span class="slider"></span>
                    </label>
                </div>
                <div class="toggle-group" style="margin-top: 8px;">
                    <span>Binaural Beats</span>
                    <label class="switch">
                    <input type="checkbox" id="binauralToggle">
                    <span class="slider"></span>
                    </label>
                </div>
            </div>
        </div>
        <div class="page" id="soundsPage">
            <header><h1>Soundscape</h1></header>
            <div class="card">
                <div class="slider-row">
                    <div class="label-row"><span>üîä MASTER VOLUME</span><span id="masterVolVal">22%</span></div>
                    <input type="range" id="masterVolume" min="0" max="100" value="22">
                </div>
            </div>
            <div class="card">
                <div class="section-title">NOISE COLORS</div>
                <div style="display: flex; flex-direction: column; gap: 12px;">
                    <div class="sound-pill active" onclick="selectSound('pink', this)">
                    <div class="sound-icon">üå∏</div>
                    <div class="sound-info">
                    <div class="sound-title">Pink Noise</div>
                    <div class="sound-desc">Balanced, natural sound for focus</div>
                    </div>
                    <div class="sound-radio"></div>
                    </div>
                    <div class="sound-pill" onclick="selectSound('brown', this)">
                    <div class="sound-icon">„Ä∞Ô∏è</div>
                    <div class="sound-info">
                    <div class="sound-title">Brown Noise</div>
                    <div class="sound-desc">Deep, rumbling sound for relaxation</div>
                    </div>
                    <div class="sound-radio"></div>
                    </div>
                    <div class="sound-pill" onclick="selectSound('white', this)">
                    <div class="sound-icon">‚ö™</div>
                    <div class="sound-info">
                    <div class="sound-title">White Noise</div>
                    <div class="sound-desc">Constant intensity for masking</div>
                    </div>
                    <div class="sound-radio"></div>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="section-title">ATMOSPHERIC & TONES</div>
                <div class="grid-2">
                    <div class="tone-card" onclick="selectTone('ocean', this)">
                    <div class="tone-icon">üåä</div>
                    <div class="tone-title">Ocean</div>
                    <div class="tone-subtitle">Rhythmic Waves</div>
                    </div>
                    <div class="tone-card" onclick="selectTone('solfeggio', this)">
                    <div class="tone-icon">‚ö°</div>
                    <div class="tone-title">Solfeggio</div>
                    <div class="tone-subtitle">528Hz Healing</div>
                    </div>
                    <div class="tone-card" onclick="selectTone('432hz', this)">
                    <div class="tone-icon">‚ö°</div>
                    <div class="tone-title">432Hz Tone</div>
                    <div class="tone-subtitle">Deep Relaxation</div>
                    </div>
                    <div class="tone-card" onclick="selectTone('440hz', this)">
                    <div class="tone-icon">‚ö°</div>
                    <div class="tone-title">440Hz Tone</div>
                    <div class="tone-subtitle">Pure Clarity</div>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="section-title">BINAURAL BEATS</div>
                <div class="toggle-group">
                    <span style="font-size: 0.8rem;">Enable Binaural</span>
                    <label class="switch">
                    <input type="checkbox" id="binauralToggleSounds" onchange="toggleBinauralOptions()">
                    <span class="slider"></span>
                    </label>
                </div>
                <div class="binaural-pills hidden" id="binauralOptions">
                    <div class="binaural-pill" onclick="selectBinaural('theta', this)">
                    <span class="binaural-pill-icon">üßò</span>
                    <span class="binaural-pill-title">Theta</span>
                    <span class="binaural-pill-freq">4Hz ‚Äì Deep</span>
                    </div>
                    <div class="binaural-pill active" onclick="selectBinaural('alpha', this)">
                    <span class="binaural-pill-icon">üßò</span>
                    <span class="binaural-pill-title">Alpha</span>
                    <span class="binaural-pill-freq">10Hz ‚Äì Relax</span>
                    </div>
                    <div class="binaural-pill" onclick="selectBinaural('gamma', this)">
                    <span class="binaural-pill-icon">üßò</span>
                    <span class="binaural-pill-title">Gamma</span>
                    <span class="binaural-pill-freq">40Hz ‚Äì Focus</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <nav class="bottom-nav">
        <button class="nav-btn active" onclick="switchPage('breathePage', this)">
            <span class="nav-icon">ü´Å</span>
            <span>Breathe</span>
        </button>
        <button class="nav-btn" onclick="switchPage('soundsPage', this)">
            <span class="nav-icon">üéµ</span>
            <span>Sounds</span>
        </button>
    </nav>
    <script src="app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(reg => console.log('Service Worker registered'))
                    .catch(err => console.log('Service Worker registration failed:', err));
            });
        }
    </script>
</body>
</html>